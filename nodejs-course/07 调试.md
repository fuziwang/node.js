#### 调试：除掉程序中的bug

> 程序能一次写完并正常运行的概率很小，基本不超过1%。总会有各种各样的bug需要修正。有的bug很简单，看看错误信息就知道，有的bug很复杂，我们需要知道出错时，哪些变量的值是正确的，哪些变量的值是错误的，因此，需要一整套调试程序的手段来修复bug。

调试的意思是调整代码，测试代码。调试主要通过两个步骤来进行：定位、修复

![](images/29.png)

在程序中，错误的类型主要包括三种：语法错误、逻辑错误、运行时错误

调试的手段主要有四种：

+ 交互式调试：运行过程中通过加断点进行调试（如果程序是循环出错时，可以通过高级的IDE添加条件断点） **控制程序的执行，从而查看对应的变量环境**


+ 打印调试：对于类似于JavaScript的异步编程语言，不能使用交互式调试，此时需要用到`console.log()`
+ 远程调试

![](images/30.png)

+ 事后调试

![](images/31.png)

#### 静态代码检查

**[eslint](https://cn.eslint.org/)**：可组装的JavaScript和JSX检查工具，它主要检查语法错误以及对应的代码规范

![](images/25.png)

- 在 nodejs-demo 目录下初始化 ESLint 配置文件
- 如果不希望 ESLint 检查某些文件夹或文件，则配置 .eslintignore 文件
- 用 ESLint 工具检查自己写过的所有代码
- 如果规则定义合理，则改正代码中问题
- 如果规则定义的不合理，则修改规则设置

```json
# .eslintrc.json
{
    "env": {
        "es6": true,
        "node": true
    },
    "extends": "eslint:recommended",
    "parserOptions": {
        "ecmaVersion": 2015
    },
    "rules": {
        "indent": [
            "error",
            2,
            {
              "SwitchCase":1,
              "VariableDeclarator":{"var":2,"let":2,"const":3}
            }
        ],
        "linebreak-style": [
            "error",
            "unix"
        ],
        "quotes": [
            "error",
            "single"
        ],
        "semi": [
            "error",
            "always"
        ],
        "no-console":["off"]
    }
}
```

![](images/26.png)

```json
# .eslintignore

node_modules
LICENSE
*.md
*.json
```

![](images/27.png)

如何实现vim和eslint的连接？

![](images/28.png)

